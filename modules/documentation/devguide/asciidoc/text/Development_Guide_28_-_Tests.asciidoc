[[tests]]
= Tests
:author: Mateusz Fiolka
:version: v2.0, June 2014: Reformatted for AsciiDoc.
:date: 2010-04-06 21:22
:revision: v2.1

:toc:
:numbered:
:website: http://tigase.net/

== Tests
Tests are very important part of Tigase server development process.

Each release goes through fully automated testing process. All server functions are considered implemented only when they pass the testing cycle. Tigase test suite is used for all our automatic tests which allows to define different test scenarios.

There is no tweaking on databases for tests. All databases are installed in a standard way and run with default settings. Databases are cleared each time before the test cycle starts.

There are no modifications needed to be made to Tigase's configuration file as well. All tests are performed on a default configuration generated by the configuration wizards.

The server is tested in all supported environments:

. *XMLDB* - tests with built-in simple XML database. This is a simple and efficient solution for small installations. It is recommended for services with up to 100 user accounts although it has been successfully tested with 10,000 user accounts.
. *MySQL* - tests with a link:http://www.mysql.com/[MySQL] database. Much slower than XMLDB but may handle many more user accounts.
. *PostgreSQL* - tests with a link:http://www.postgresql.org/[PostgreSQL] database. Again it is much slower than XMLDB but may handle much more user accounts. This is basically exactly the same code as for MySQL database (SQL Connector) but tests are executed to make sure the code is compatible with all supported SQL databases and to compare performance.
. *Distributed* - is a test for distributed installation where c2s and s2s components run on separated machine which connects using external an component protocol (link:http://www.xmpp.org/extensions/xep-0114.html[XEP-0114]) to another machine with SessionManager running.


=== Functional Tests

Basic checking to see if all the functions work at correctly. These tests are performed every time the code is sent to source repository.
[width="90%"]
|=====================================================================
| Version| XMLDB| MySQL| PGSQL| Distributed
| 3.3.2-b889| link:tests/3.3.2-b889/func/xmldb/functional-tests.html[00:00:12]| link:tests/3.3.2-b889/func/mysql/functional-tests.html[00:00:17]| link:tests/3.3.2-b889/func/pgsql/functional-tests.html[00:00:17]| none
| 3.3.2-b880| link:tests/3.3.2-b880/func/xmldb/functional-tests.html[00:00:13]| link:tests/3.3.2-b880/func/mysql/functional-tests.html[00:00:15]| link:tests/3.3.2-b880/func/pgsql/functional-tests.html[00:00:15]| None
| 3.0.2-b700| link:tests/3.0.2-b700/func/xmldb/functional-tests.html[00:00:22]| link:tests/3.0.2-b700/func/mysql/functional-tests.html[00:00:24]| link:tests/3.0.2-b700/func/pgsql/functional-tests.html[00:00:25]| link:tests/3.0.2-b700/func/sm-mysql/functional-tests.html[00:00:25]
| 2.9.5-b606| link:tests/2.9.5-b606/func/xmldb/functional-tests.html[00:00:22]| link:tests/2.9.5-b606/func/mysql/functional-tests.html[00:00:24]| link:tests/2.9.5-b606/func/pgsql/functional-tests.html[00:00:24]| link:tests/2.9.5-b606/func/sm-mysql/functional-tests.html[00:00:24]
| 2.9.3-b548| link:tests/2.9.3-b548/func/xmldb/functional-tests.html[00:00:22]| link:tests/2.9.3-b548/func/mysql/functional-tests.html[00:00:23]| link:tests/2.9.3-b548/func/pgsql/functional-tests.html[00:00:25]| link:tests/2.9.3-b548/func/sm-mysql/functional-tests.html[00:00:25]
| 2.9.1-b528| link:tests/2.9.1-b528/func/xmldb/functional-tests.html[00:00:21]| link:tests/2.9.1-b528/func/mysql/functional-tests.html[00:00:23]| link:tests/2.9.1-b528/func/pgsql/functional-tests.html[00:00:24]| link:tests/2.9.1-b528/func/sm-mysql/functional-tests.html[00:00:25]
| 2.8.6-b434| link:tests/2.8.6-b434/func/xmldb/functional-tests.html[00:00:21]| link:tests/2.8.6-b434/func/mysql/functional-tests.html[00:00:24]| link:tests/2.8.6-b434/func/pgsql/functional-tests.html[00:00:24]| link:tests/2.8.6-b434/func/sm-mysql/functional-tests.html[00:00:25]
| 2.8.5-b422| link:tests/2.8.5-b422/func/xmldb/functional-tests.html[00:00:21]| link:tests/2.8.5-b422/func/mysql/functional-tests.html[00:00:24]| link:tests/2.8.5-b422/func/pgsql/functional-tests.html[00:00:24]| link:tests/2.8.5-b422/func/sm-mysql/functional-tests.html[00:00:26]
| 2.8.3-b409| link:tests/2.8.3-b409/func/xmldb/functional-tests.html[00:00:27]| link:tests/2.8.3-b409/func/mysql/functional-tests.html[00:00:29]| link:tests/2.8.3-b409/func/pgsql/functional-tests.html[00:00:29]| link:tests/2.8.3-b409/func/sm-mysql/functional-tests.html[00:00:32]
| 2.7.2-b378| link:tests/2.7.2-b378/func/xmldb/functional-tests.html[00:00:30]| link:tests/2.7.2-b378/func/mysql/functional-tests.html[00:00:34]| link:tests/2.7.2-b378/func/pgsql/functional-tests.html[00:00:33]| link:tests/2.7.2-b378/func/sm-mysql/functional-tests.html[00:00:35]
| 2.6.4-b300| link:tests/2.6.4-b300/func/xmldb/functional-tests.html[00:00:30]| link:tests/2.6.4-b300/func/mysql/functional-tests.html[00:00:32]| link:tests/2.6.4-b300/func/pgsql/functional-tests.html[00:00:35]| link:tests/2.6.4-b300/func/sm-mysql/functional-tests.html[00:00:39]
| 2.6.4-b295| link:tests/2.6.4-b295/func/xmldb/functional-tests.html[00:00:29]| link:tests/2.6.4-b295/func/mysql/functional-tests.html[00:00:32]| link:tests/2.6.4-b295/func/pgsql/functional-tests.html[00:00:45]| link:tests/2.6.4-b295/func/sm-mysql/functional-tests.html[00:00:36]
| 2.6.0-b287| link:tests/2.6.0-b287/func/xmldb/functional-tests.html[00:00:31]| link:tests/2.6.0-b287/func/mysql/functional-tests.html[00:00:34]| link:tests/2.6.0-b287/func/pgsql/functional-tests.html[00:00:47]| link:tests/2.6.0-b287/func/sm-mysql/functional-tests.html[00:00:43]
| 2.5.0-b279| link:tests/2.5.0-b279/func/xmldb/functional-tests.html[00:00:30]| link:tests/2.5.0-b279/func/mysql/functional-tests.html[00:00:34]| link:tests/2.5.0-b279/func/pgsql/functional-tests.html[00:00:45]| link:tests/2.5.0-b279/func/sm-mysql/functional-tests.html[00:00:43]
| 2.4.0-b263| link:tests/2.4.0-b263/func/xmldb/functional-tests.html[00:00:29]| link:tests/2.4.0-b263/func/mysql/functional-tests.html[00:00:33]| link:tests/2.4.0-b263/func/pgsql/functional-tests.html[00:00:45]| link:tests/2.4.0-b263/func/sm-mysql/functional-tests.html[00:00:44]
| 2.3.4-b226 | None | link:tests/functional-tests.html[00:00:48]| None| None
|=====================================================================

=== Performance Tests
Checking to see whether the function performs well enough.
[width="90%"]
|=====================================================================
|Version| XMLDB| MySQL| PGSQL| Distributed
|3.3.2-b889| link:tests/3.3.2-b889/perf/xmldb/performance-tests.html[00:12:17]| link:tests/3.3.2-b889/perf/mysql/performance-tests.html[00:13:42]| link:tests/3.3.2-b889/perf/pgsql/performance-tests.html[00:17:10]| none
|3.3.2-b880| link:tests/3.3.2-b880/perf/xmldb/performance-tests.html[00:13:39]| link:tests/3.3.2-b880/perf/mysql/performance-tests.html[00:14:09]| link:tests/3.3.2-b880/perf/pgsql/performance-tests.html[00:17:39]| None
|3.0.2-b700| link:tests/3.0.2-b700/perf/xmldb/performance-tests.html[00:10:26]| link:tests/3.0.2-b700/perf/mysql/performance-tests.html[00:11:00]| link:tests/3.0.2-b700/perf/pgsql/performance-tests.html[00:12:08]| link:tests/3.0.2-b700/perf/sm-mysql/performance-tests.html[00:24:05]
|2.9.5-b606| link:tests/2.9.5-b606/perf/xmldb/performance-tests.html[00:09:54]| link:tests/2.9.5-b606/perf/mysql/performance-tests.html[00:11:18]| link:tests/2.9.5-b606/perf/pgsql/performance-tests.html[00:37:08]| link:tests/2.9.5-b606/perf/sm-mysql/performance-tests.html[00:16:20]
|2.9.3-b548| link:tests/2.9.3-b548/perf/xmldb/performance-tests.html[00:10:00]| link:tests/2.9.3-b548/perf/mysql/performance-tests.html[00:11:29]| link:tests/2.9.3-b548/perf/pgsql/performance-tests.html[00:36:43]| link:tests/2.9.3-b548/perf/sm-mysql/performance-tests.html[00:16:47]
|2.9.1-b528| link:tests/2.9.1-b528/perf/xmldb/performance-tests.html[00:09:46]| link:tests/2.9.1-b528/perf/mysql/performance-tests.html[00:11:15]| link:tests/2.9.1-b528/perf/pgsql/performance-tests.html[00:36:12]| link:tests/2.9.1-b528/perf/sm-mysql/performance-tests.html[00:16:36]
|2.8.6-b434| link:tests/2.8.6-b434/perf/xmldb/performance-tests.html[00:10:02]| link:tests/2.8.6-b434/perf/mysql/performance-tests.html[00:11:45]| link:tests/2.8.6-b434/perf/pgsql/performance-tests.html[00:36:36]| link:tests/2.8.6-b434/perf/sm-mysql/performance-tests.html[00:17:36]
|2.8.5-b422| link:tests/2.8.5-b422/perf/xmldb/performance-tests.html[00:12:37]| link:tests/2.8.5-b422/perf/mysql/performance-tests.html[00:14:40]| link:tests/2.8.5-b422/perf/pgsql/performance-tests.html[00:38:59]| link:tests/2.8.5-b422/perf/sm-mysql/performance-tests.html[00:21:40]
|2.8.3-b409| link:tests/2.8.3-b409/perf/xmldb/performance-tests.html[00:12:32]| link:tests/2.8.3-b409/perf/mysql/performance-tests.html[00:14:26]| link:tests/2.8.3-b409/perf/pgsql/performance-tests.html[00:37:57]| link:tests/2.8.3-b409/perf/sm-mysql/performance-tests.html[00:21:26]
|2.7.2-b378| link:tests/2.7.2-b378/perf/xmldb/performance-tests.html[00:12:28]| link:tests/2.7.2-b378/perf/mysql/performance-tests.html[00:14:57]| link:tests/2.7.2-b378/perf/pgsql/performance-tests.html[00:37:09]| link:tests/2.7.2-b378/perf/sm-mysql/performance-tests.html[00:22:20]
|2.6.4-b300| link:tests/2.6.4-b300/perf/xmldb/performance-tests.html[00:12:46]| link:tests/2.6.4-b300/perf/mysql/performance-tests.html[00:14:59]| link:tests/2.6.4-b300/perf/pgsql/performance-tests.html[00:36:56]| link:tests/2.6.4-b300/perf/sm-mysql/performance-tests.html[00:35:00]
|2.6.4-b295| link:tests/2.6.4-b295/perf/xmldb/performance-tests.html[00:12:23]| link:tests/2.6.4-b295/perf/mysql/performance-tests.html[00:14:59]| link:tests/2.6.4-b295/perf/pgsql/performance-tests.html[00:42:24]| link:tests/2.6.4-b295/perf/sm-mysql/performance-tests.html[00:30:18]
|2.6.0-b287| link:tests/2.6.0-b287/perf/xmldb/performance-tests.html[00:13:50]| link:tests/2.6.0-b287/perf/mysql/performance-tests.html[00:16:53]| link:tests/2.6.0-b287/perf/pgsql/performance-tests.html[00:48:17]| link:tests/2.6.0-b287/perf/sm-mysql/performance-tests.html[00:49:06]
|2.5.0-b279| link:tests/2.5.0-b279/perf/xmldb/performance-tests.html[00:13:29]| link:tests/2.5.0-b279/perf/mysql/performance-tests.html[00:16:58]| link:tests/2.5.0-b279/perf/pgsql/performance-tests.html[00:47:15]| link:tests/2.5.0-b279/perf/sm-mysql/performance-tests.html[00:41:52]
|2.4.0-b263| link:tests/2.4.0-b263/perf/xmldb/performance-tests.html[00:13:20]| link:tests/2.4.0-b263/perf/mysql/performance-tests.html[00:16:21]| link:tests/2.4.0-b263/perf/pgsql/performance-tests.html[00:43:56]| link:tests/2.4.0-b263/perf/sm-mysql/performance-tests.html[00:42:08]
|2.3.4-b226 | None | link:tests/performance-tests.html[01:23:30]| None| None
|=====================================================================

=== Stability Tests
Checking to see whether the function behaves well in long term run. It must handle hundreds of requests a second in a several hour server run.
[width="90%"]
|=====================================================================
|Version| XMLDB| MySQL| PGSQL| Distributed
|2.3.4-b226 | None | link:tests/stability-tests.html[16:06:31]| None | None
|=====================================================================
